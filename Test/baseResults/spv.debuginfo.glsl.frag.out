spv.debuginfo.glsl.frag
Validation failed
// Module Version 10000
// Generated by (magic number): 8000b
// Id's are bound by 881

                              Capability Shader
                              Capability ImageQuery
                              Extension  "SPV_KHR_non_semantic_info"
               1:             ExtInstImport  "NonSemantic.Shader.DebugInfo.100"
               3:             ExtInstImport  "GLSL.std.450"
                              MemoryModel Logical GLSL450
                              EntryPoint Fragment 14  "main" 497 550
                              ExecutionMode 14 OriginUpperLeft
               2:             String  "spv.debuginfo.glsl.frag"
               8:             String  "uint"
              17:             String  "float"
              39:             String  "textureProj"
              42:             String  "// OpModuleProcessed auto-map-locations
// OpModuleProcessed auto-map-bindings
// OpModuleProcessed client vulkan100
// OpModuleProcessed target-env vulkan1.0
// OpModuleProcessed keep-uncalled
// OpModuleProcessed entry-point main
#line 1
/*
The MIT License (MIT)

Copyright (c) 2022 Sascha Willems

Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:

The above copyright notice and this permission notice shall be included in all
copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
SOFTWARE.
*/

#version 450

layout (binding = 1) uniform sampler2D samplerposition;
layout (binding = 2) uniform sampler2D samplerNormal;
layout (binding = 3) uniform sampler2D samplerAlbedo;
layout (binding = 5) uniform sampler2DArray samplerShadowMap;

layout (location = 0) in vec2 inUV;

layout (location = 0) out vec4 outFragColor;

#define LIGHT_COUNT 3
#define SHADOW_FACTOR 0.25
#define AMBIENT_LIGHT 0.1
#define USE_PCF

int global_var = 0;

struct Light 
{
	vec4 position;
	vec4 target;
	vec4 color;
	mat4 viewMatrix;
};

layout (binding = 4) uniform UBO 
{
	vec4 viewPos;
	Light lights[LIGHT_COUNT];
	int useShadows;
	int debugDisplayTarget;
} ubo;

float textureProj(vec4 P, float layer, vec2 offset)
{
	float shadow = 1.0;
	vec4 shadowCoord = P / P.w;
	shadowCoord.st = shadowCoord.st * 0.5 + 0.5;
	
	if (shadowCoord.z > -1.0 && shadowCoord.z < 1.0) 
	{
		float dist = texture(samplerShadowMap, vec3(shadowCoord.st + offset, layer)).r;
		if (shadowCoord.w > 0.0 && dist < shadowCoord.z) 
		{
			shadow = SHADOW_FACTOR;
		}
	}
	return shadow;
}

float filterPCF(vec4 sc, float layer)
{
	ivec2 texDim = textureSize(samplerShadowMap, 0).xy;
	float scale = 1.5;
	float dx = scale * 1.0 / float(texDim.x);
	float dy = scale * 1.0 / float(texDim.y);

	float shadowFactor = 0.0;
	int count = 0;
	int range = 1;
	
	for (int x = -range; x <= range; x++)
	{
		for (int y = -range; y <= range; y++)
		{
			shadowFactor += textureProj(sc, layer, vec2(dx*x, dy*y));
			count++;
		}
	
	}
	return shadowFactor / count;
}

vec3 shadow(vec3 fragcolor, vec3 fragpos) {
	for(int i = 0; i < LIGHT_COUNT; ++i)
	{
		vec4 shadowClip	= ubo.lights[i].viewMatrix * vec4(fragpos, 1.0);

		float shadowFactor;
		#ifdef USE_PCF
			shadowFactor= filterPCF(shadowClip, i);
		#else
			shadowFactor = textureProj(shadowClip, i, vec2(0.0));
		#endif

		fragcolor *= shadowFactor;
	}
	return fragcolor;
}

void main() 
{
	// Get G-Buffer values
	vec3 fragPos = texture(samplerposition, inUV).rgb;
	vec3 normal = texture(samplerNormal, inUV).rgb;
	vec4 albedo = texture(samplerAlbedo, inUV);

	// Debug display
	if (ubo.debugDisplayTarget > 0) {
		switch (ubo.debugDisplayTarget) {
			case 1: 
				outFragColor.rgb = shadow(vec3(1.0), fragPos).rgb;
				break;
			case 2: 
				outFragColor.rgb = fragPos;
				break;
			case 3: 
				outFragColor.rgb = normal;
				break;
			case 4: 
				outFragColor.rgb = albedo.rgb;
				break;
			case 5: 
				outFragColor.rgb = albedo.aaa;
				break;
		}		
		outFragColor.a = 1.0;
		return;
	}

	// Ambient part
	vec3 fragcolor  = albedo.rgb * AMBIENT_LIGHT;

	vec3 N = normalize(normal);
		
	for(int i = 0; i < LIGHT_COUNT; ++i)
	{
		// Vector to light
		vec3 L = ubo.lights[i].position.xyz - fragPos;
		// Distance from light to fragment position
		float dist = length(L);
		L = normalize(L);

		// Viewer to fragment
		vec3 V = ubo.viewPos.xyz - fragPos;
		V = normalize(V);

		float lightCosInnerAngle = cos(radians(15.0));
		float lightCosOuterAngle = cos(radians(25.0));
		float lightRange = 100.0;

		// Direction vector from source to target
		vec3 dir = normalize(ubo.lights[i].position.xyz - ubo.lights[i].target.xyz);

		// Dual cone spot light with smooth transition between inner and outer angle
		float cosDir = dot(L, dir);
		float spotEffect = smoothstep(lightCosOuterAngle, lightCosInnerAngle, cosDir);
		float heightAttenuation = smoothstep(lightRange, 0.0f, dist);

		// Diffuse lighting
		float NdotL = max(0.0, dot(N, L));
		vec3 diff = vec3(NdotL);

		// Specular lighting
		vec3 R = reflect(-L, N);
		float NdotR = max(0.0, dot(R, V));
		vec3 spec = vec3(pow(NdotR, 16.0) * albedo.a * 2.5);

		fragcolor += vec3((diff + spec) * spotEffect * heightAttenuation) * ubo.lights[i].color.rgb * albedo.rgb;
	}    	

	// Shadow calculations in a separate pass
	if (ubo.useShadows > 0)
	{
		fragcolor = shadow(fragcolor, fragPos);
	}

	outFragColor = vec4(fragcolor, 1.0);
}
"
              47:             String  "P"
              53:             String  "layer"
              56:             String  "offset"
              64:             String  "filterPCF"
              68:             String  "sc"
              84:             String  "shadow"
              88:             String  "fragcolor"
              93:             String  "fragpos"
              95:             String  "main"
              99:             String  "int"
             105:             String  "global_var"
             120:             String  "shadowCoord"
             142:             String  "bool"
             163:             String  "dist"
             170:             String  "texture2DArray"
             171:             String  "@texture2DArray"
             175:             String  "sampler2DArray"
             176:             String  "@sampler2DArray"
             181:             String  "samplerShadowMap"
             230:             String  "texDim"
             242:             String  "scale"
             249:             String  "dx"
             263:             String  "dy"
             275:             String  "shadowFactor"
             281:             String  "count"
             287:             String  "range"
             294:             String  "x"
             314:             String  "y"
             379:             String  "i"
             397:             String  "shadowClip"
             407:             String  "color"
             412:             String  "viewMatrix"
             415:             String  "Light"
             421:             String  "lights"
             424:             String  "debugDisplayTarget"
             428:             String  "UBO"
             433:             String  "ubo"
             477:             String  "fragPos"
             483:             String  "texture2D"
             484:             String  "@texture2D"
             487:             String  "sampler2D"
             488:             String  "@sampler2D"
             493:             String  "samplerposition"
             499:             String  "inUV"
             505:             String  "normal"
             511:             String  "samplerNormal"
             518:             String  "albedo"
             524:             String  "samplerAlbedo"
             552:             String  "outFragColor"
             652:             String  "N"
             676:             String  "L"
             702:             String  "V"
             717:             String  "lightCosInnerAngle"
             724:             String  "lightCosOuterAngle"
             731:             String  "lightRange"
             738:             String  "dir"
             754:             String  "cosDir"
             763:             String  "spotEffect"
             773:             String  "heightAttenuation"
             782:             String  "NdotL"
             792:             String  "diff"
             800:             String  "R"
             810:             String  "NdotR"
             820:             String  "spec"
                              Name 14  "main"
                              Name 37  "textureProj(vf4;f1;vf2;"
                              Name 34  "P"
                              Name 35  "layer"
                              Name 36  "offset"
                              Name 62  "filterPCF(vf4;f1;"
                              Name 60  "sc"
                              Name 61  "layer"
                              Name 82  "shadow(vf3;vf3;"
                              Name 80  "fragcolor"
                              Name 81  "fragpos"
                              Name 103  "global_var"
                              Name 112  "shadow"
                              Name 118  "shadowCoord"
                              Name 161  "dist"
                              Name 179  "samplerShadowMap"
                              Name 228  "texDim"
                              Name 240  "scale"
                              Name 247  "dx"
                              Name 261  "dy"
                              Name 273  "shadowFactor"
                              Name 279  "count"
                              Name 285  "range"
                              Name 292  "x"
                              Name 312  "y"
                              Name 345  "param"
                              Name 347  "param"
                              Name 349  "param"
                              Name 377  "i"
                              Name 395  "shadowClip"
                              Name 405  "Light"
                              MemberName 405(Light) 0  "position"
                              MemberName 405(Light) 1  "target"
                              MemberName 405(Light) 2  "color"
                              MemberName 405(Light) 3  "viewMatrix"
                              Name 418  "UBO"
                              MemberName 418(UBO) 0  "viewPos"
                              MemberName 418(UBO) 1  "lights"
                              MemberName 418(UBO) 2  "useShadows"
                              MemberName 418(UBO) 3  "debugDisplayTarget"
                              Name 431  "ubo"
                              Name 445  "shadowFactor"
                              Name 452  "param"
                              Name 454  "param"
                              Name 475  "fragPos"
                              Name 491  "samplerposition"
                              Name 497  "inUV"
                              Name 503  "normal"
                              Name 509  "samplerNormal"
                              Name 516  "albedo"
                              Name 522  "samplerAlbedo"
                              Name 550  "outFragColor"
                              Name 555  "param"
                              Name 558  "param"
                              Name 640  "fragcolor"
                              Name 650  "N"
                              Name 658  "i"
                              Name 674  "L"
                              Name 689  "dist"
                              Name 700  "V"
                              Name 715  "lightCosInnerAngle"
                              Name 722  "lightCosOuterAngle"
                              Name 729  "lightRange"
                              Name 736  "dir"
                              Name 752  "cosDir"
                              Name 761  "spotEffect"
                              Name 771  "heightAttenuation"
                              Name 780  "NdotL"
                              Name 790  "diff"
                              Name 798  "R"
                              Name 808  "NdotR"
                              Name 818  "spec"
                              Name 865  "param"
                              Name 870  "param"
                              Decorate 179(samplerShadowMap) Binding 5
                              Decorate 179(samplerShadowMap) DescriptorSet 0
                              MemberDecorate 405(Light) 0 Offset 0
                              MemberDecorate 405(Light) 1 Offset 16
                              MemberDecorate 405(Light) 2 Offset 32
                              MemberDecorate 405(Light) 3 ColMajor
                              MemberDecorate 405(Light) 3 MatrixStride 16
                              MemberDecorate 405(Light) 3 Offset 48
                              Decorate 416 ArrayStride 112
                              Decorate 418(UBO) Block
                              MemberDecorate 418(UBO) 0 Offset 0
                              MemberDecorate 418(UBO) 1 Offset 16
                              MemberDecorate 418(UBO) 2 Offset 352
                              MemberDecorate 418(UBO) 3 Offset 356
                              Decorate 431(ubo) Binding 4
                              Decorate 431(ubo) DescriptorSet 0
                              Decorate 491(samplerposition) Binding 1
                              Decorate 491(samplerposition) DescriptorSet 0
                              Decorate 497(inUV) Location 0
                              Decorate 509(samplerNormal) Binding 2
                              Decorate 509(samplerNormal) DescriptorSet 0
                              Decorate 522(samplerAlbedo) Binding 3
                              Decorate 522(samplerAlbedo) DescriptorSet 0
                              Decorate 550(outFragColor) Location 0
               4:             TypeVoid
               5:             TypeFunction 4
               7:             TypeInt 32 0
              10:      7(int) Constant 32
              11:      7(int) Constant 6
              12:      7(int) Constant 0
               9:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 8 10 11 12
              13:      7(int) Constant 3
               6:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 4
              16:             TypeFloat 32
              18:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 17 10 13 12
              19:             TypeVector 16(float) 4
              20:      7(int) Constant 4
              21:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 18 20
              22:             TypePointer Function 19(fvec4)
              23:      7(int) Constant 7
              24:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 21 23 12
              25:             TypePointer Function 16(float)
              26:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 18 23 12
              27:             TypeVector 16(float) 2
              28:      7(int) Constant 2
              29:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 18 28
              30:             TypePointer Function 27(fvec2)
              31:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 29 23 12
              32:             TypeFunction 16(float) 22(ptr) 25(ptr) 30(ptr)
              33:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 18 21 18 29
              41:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 35(DebugSource) 2 42
              43:      7(int) Constant 59
              45:      7(int) Constant 1
              44:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 1(DebugCompilationUnit) 45 20 41 28
              40:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 39 33 41 43 12 44 39 13 43
              46:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 47 21 41 43 12 40 20 45
              49:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 31(DebugExpression)
              52:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 53 18 41 43 12 40 20 28
              55:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 56 29 41 43 12 40 20 13
              58:             TypeFunction 16(float) 22(ptr) 25(ptr)
              59:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 18 21 18
              66:      7(int) Constant 76
              65:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 64 59 41 66 12 44 64 13 66
              67:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 68 21 41 66 12 65 20 45
              72:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 53 18 41 66 12 65 20 28
              74:             TypeVector 16(float) 3
              75:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 18 13
              76:             TypePointer Function 74(fvec3)
              77:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 75 23 12
              78:             TypeFunction 74(fvec3) 76(ptr) 76(ptr)
              79:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 8(DebugTypeFunction) 13 75 75 75
              86:      7(int) Constant 99
              85:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 84 79 41 86 12 44 84 13 86
              87:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 88 75 41 86 12 85 20 45
              92:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 93 75 41 86 12 85 20 28
              97:      7(int) Constant 116
              96:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 20(DebugFunction) 95 6 41 97 12 44 95 13 97
              98:             TypeInt 32 1
             100:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 99 10 20 12
             101:             TypePointer Private 98(int)
             102:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 100 11 12
 103(global_var):    101(ptr) Variable Private
             106:      7(int) Constant 41
             107:      7(int) Constant 8
             104:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 105 100 41 106 12 44 105 103(global_var) 107
             108:     98(int) Constant 0
             114:      7(int) Constant 61
             113:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 84 18 41 114 12 40 20
             117:   16(float) Constant 1065353216
             121:      7(int) Constant 62
             119:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 120 21 41 121 12 40 20
             131:      7(int) Constant 63
             133:   16(float) Constant 1056964608
             141:             TypeBool
             143:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 2(DebugTypeBasic) 142 10 28 12
             146:      7(int) Constant 65
             148:   16(float) Constant 3212836864
             164:      7(int) Constant 67
             162:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 163 18 41 164 12 40 20
             168:             TypeImage 16(float) 2D array sampled format:Unknown
             172:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 0(DebugInfoNone)
             169:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 170 12 41 164 12 44 171 172 13
             173:             TypeSampledImage 168
             174:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 175 12 41 164 12 44 176 172 13
             177:             TypePointer UniformConstant 173
             178:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 174 12 12
179(samplerShadowMap):    177(ptr) Variable UniformConstant
             180:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 181 174 41 164 12 44 181 179(samplerShadowMap) 107
             195:      7(int) Constant 68
             197:   16(float) Constant 0
             211:   16(float) Constant 1048576000
             214:      7(int) Constant 70
             219:      7(int) Constant 73
             224:             TypeVector 98(int) 2
             225:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 100 28
             226:             TypePointer Function 224(ivec2)
             227:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 225 23 12
             231:      7(int) Constant 78
             229:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 230 225 41 231 12 65 20
             236:             TypeVector 98(int) 3
             237:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 6(DebugTypeVector) 100 13
             243:      7(int) Constant 79
             241:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 242 18 41 243 12 65 20
             246:   16(float) Constant 1069547520
             250:      7(int) Constant 80
             248:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 249 18 41 250 12 65 20
             255:             TypePointer Function 98(int)
             256:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 100 23 12
             264:      7(int) Constant 81
             262:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 263 18 41 264 12 65 20
             276:      7(int) Constant 83
             274:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 275 18 41 276 12 65 20
             282:      7(int) Constant 84
             280:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 281 100 41 282 12 65 20
             288:      7(int) Constant 85
             286:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 287 100 41 288 12 65 20
             291:     98(int) Constant 1
             295:      7(int) Constant 87
             293:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 294 100 41 295 12 65 20
             315:      7(int) Constant 89
             313:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 314 100 41 315 12 65 20
             336:      7(int) Constant 91
             355:      7(int) Constant 92
             369:      7(int) Constant 96
             380:      7(int) Constant 100
             378:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 379 100 41 380 12 85 20
             393:     98(int) Constant 3
             398:      7(int) Constant 102
             396:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 397 21 41 398 12 85 20
             402:             TypeMatrix 19(fvec4) 4
             404:   141(bool) ConstantTrue
             403:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 108(DebugTypeMatrix) 21 20 404
      405(Light):             TypeStruct 19(fvec4) 19(fvec4) 19(fvec4) 402
             408:      7(int) Constant 47
             406:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 407 21 41 408 23 12 12 13
             409:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 407 21 41 408 23 12 12 13
             410:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 407 21 41 408 23 12 12 13
             413:      7(int) Constant 48
             411:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 412 403 41 413 23 12 12 13
             414:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 415 45 41 398 12 44 415 12 13 406 409 410 411
             416:             TypeArray 405(Light) 13
             417:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 5(DebugTypeArray) 414 13
        418(UBO):             TypeStruct 19(fvec4) 416 98(int) 98(int)
             419:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 407 21 41 408 23 12 12 13
             422:      7(int) Constant 54
             420:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 421 417 41 422 107 12 12 13
             425:      7(int) Constant 56
             423:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 424 100 41 425 11 12 12 13
             426:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 11(DebugTypeMember) 424 100 41 425 11 12 12 13
             427:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 428 45 41 398 12 44 428 12 13 419 420 423 426
             429:             TypePointer Uniform 418(UBO)
             430:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 427 28 12
        431(ubo):    429(ptr) Variable Uniform
             432:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 433 427 41 398 12 44 433 431(ubo) 107
             435:             TypePointer Uniform 402
             436:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 403 28 12
             447:      7(int) Constant 106
             446:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 275 18 41 447 12 85 20
             458:      7(int) Constant 111
             468:      7(int) Constant 113
             478:      7(int) Constant 119
             476:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 477 75 41 478 12 96 20
             481:             TypeImage 16(float) 2D sampled format:Unknown
             482:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 483 12 41 478 12 44 484 172 13
             485:             TypeSampledImage 481
             486:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 10(DebugTypeComposite) 487 12 41 478 12 44 488 172 13
             489:             TypePointer UniformConstant 485
             490:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 486 12 12
491(samplerposition):    489(ptr) Variable UniformConstant
             492:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 493 486 41 478 12 44 493 491(samplerposition) 107
             495:             TypePointer Input 27(fvec2)
             496:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 29 45 12
       497(inUV):    495(ptr) Variable Input
             498:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 499 29 41 478 12 44 499 497(inUV) 107
             506:      7(int) Constant 120
             504:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 505 75 41 506 12 96 20
509(samplerNormal):    489(ptr) Variable UniformConstant
             510:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 511 486 41 506 12 44 511 509(samplerNormal) 107
             519:      7(int) Constant 121
             517:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 518 21 41 519 12 96 20
522(samplerAlbedo):    489(ptr) Variable UniformConstant
             523:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 524 486 41 519 12 44 524 522(samplerAlbedo) 107
             528:             TypePointer Uniform 98(int)
             529:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 100 28 12
             532:      7(int) Constant 124
             540:      7(int) Constant 125
             548:             TypePointer Output 19(fvec4)
             549:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 21 13 12
550(outFragColor):    548(ptr) Variable Output
             553:      7(int) Constant 127
             551:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 18(DebugGlobalVariable) 552 21 41 553 12 44 552 550(outFragColor) 107
             554:   74(fvec3) ConstantComposite 117 117 117
             561:             TypePointer Output 16(float)
             562:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 18 13 12
             570:      7(int) Constant 128
             576:      7(int) Constant 130
             584:      7(int) Constant 131
             590:      7(int) Constant 133
             598:      7(int) Constant 134
             604:      7(int) Constant 136
             613:      7(int) Constant 137
             619:      7(int) Constant 139
             628:      7(int) Constant 140
             635:      7(int) Constant 142
             637:      7(int) Constant 143
             642:      7(int) Constant 147
             641:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 88 75 41 642 12 96 20
             648:   16(float) Constant 1036831949
             653:      7(int) Constant 149
             651:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 652 75 41 653 12 96 20
             660:      7(int) Constant 151
             659:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 379 100 41 660 12 96 20
             677:      7(int) Constant 154
             675:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 676 75 41 677 12 96 20
             682:             TypePointer Uniform 19(fvec4)
             683:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 3(DebugTypePointer) 21 28 12
             691:      7(int) Constant 156
             690:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 163 18 41 691 12 96 20
             698:      7(int) Constant 157
             703:      7(int) Constant 160
             701:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 702 75 41 703 12 96 20
             713:      7(int) Constant 161
             718:      7(int) Constant 163
             716:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 717 18 41 718 12 96 20
             721:   16(float) Constant 1064781546
             725:      7(int) Constant 164
             723:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 724 18 41 725 12 96 20
             728:   16(float) Constant 1063781322
             732:      7(int) Constant 165
             730:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 731 18 41 732 12 96 20
             735:   16(float) Constant 1120403456
             739:      7(int) Constant 168
             737:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 738 75 41 739 12 96 20
             755:      7(int) Constant 171
             753:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 754 18 41 755 12 96 20
             764:      7(int) Constant 172
             762:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 763 18 41 764 12 96 20
             774:      7(int) Constant 173
             772:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 773 18 41 774 12 96 20
             783:      7(int) Constant 176
             781:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 782 18 41 783 12 96 20
             793:      7(int) Constant 177
             791:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 792 75 41 793 12 96 20
             801:      7(int) Constant 180
             799:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 800 75 41 801 12 96 20
             811:      7(int) Constant 181
             809:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 810 18 41 811 12 96 20
             821:      7(int) Constant 182
             819:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 26(DebugLocalVariable) 820 75 41 821 12 96 20
             825:   16(float) Constant 1098907648
             830:   16(float) Constant 1075838976
             835:      7(int) Constant 184
             843:     98(int) Constant 2
             860:      7(int) Constant 188
             869:      7(int) Constant 190
             876:      7(int) Constant 193
        14(main):           4 Function None 5
              15:             Label
    475(fragPos):     76(ptr) Variable Function
     503(normal):     76(ptr) Variable Function
     516(albedo):     22(ptr) Variable Function
      555(param):     76(ptr) Variable Function
      558(param):     76(ptr) Variable Function
  640(fragcolor):     76(ptr) Variable Function
          650(N):     76(ptr) Variable Function
          658(i):    255(ptr) Variable Function
          674(L):     76(ptr) Variable Function
       689(dist):     25(ptr) Variable Function
          700(V):     76(ptr) Variable Function
715(lightCosInnerAngle):     25(ptr) Variable Function
722(lightCosOuterAngle):     25(ptr) Variable Function
 729(lightRange):     25(ptr) Variable Function
        736(dir):     76(ptr) Variable Function
     752(cosDir):     25(ptr) Variable Function
 761(spotEffect):     25(ptr) Variable Function
771(heightAttenuation):     25(ptr) Variable Function
      780(NdotL):     25(ptr) Variable Function
       790(diff):     76(ptr) Variable Function
          798(R):     76(ptr) Variable Function
      808(NdotR):     25(ptr) Variable Function
       818(spec):     76(ptr) Variable Function
      865(param):     76(ptr) Variable Function
      870(param):     76(ptr) Variable Function
             109:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 44
             110:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 106 106 12 12
                              Store 103(global_var) 108
             473:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             474:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 97 97 12 12
             472:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 96 14(main)
             480:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 478 478 12 12
             479:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 476 475(fragPos) 49
             494:         485 Load 491(samplerposition)
             500:   27(fvec2) Load 497(inUV)
             501:   19(fvec4) ImageSampleImplicitLod 494 500
             502:   74(fvec3) VectorShuffle 501 501 0 1 2
                              Store 475(fragPos) 502
             508:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 506 506 12 12
             507:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 504 503(normal) 49
             512:         485 Load 509(samplerNormal)
             513:   27(fvec2) Load 497(inUV)
             514:   19(fvec4) ImageSampleImplicitLod 512 513
             515:   74(fvec3) VectorShuffle 514 514 0 1 2
                              Store 503(normal) 515
             521:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 519 519 12 12
             520:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 517 516(albedo) 49
             525:         485 Load 522(samplerAlbedo)
             526:   27(fvec2) Load 497(inUV)
             527:   19(fvec4) ImageSampleImplicitLod 525 526
                              Store 516(albedo) 527
             531:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 532 532 12 12
             530:    528(ptr) AccessChain 431(ubo) 393
             533:     98(int) Load 530
             534:   141(bool) SGreaterThan 533 108
                              SelectionMerge 536 None
                              BranchConditional 534 535 536
             535:               Label
             538:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             539:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 540 540 12 12
             537:    528(ptr)   AccessChain 431(ubo) 393
             541:     98(int)   Load 537
                                SelectionMerge 547 None
                                Switch 541 547 
                                       case 1: 542
                                       case 2: 543
                                       case 3: 544
                                       case 4: 545
                                       case 5: 546
             542:                 Label
             556:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             557:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 553 553 12 12
                                  Store 555(param) 554
             559:   74(fvec3)     Load 475(fragPos)
                                  Store 558(param) 559
             560:   74(fvec3)     FunctionCall 82(shadow(vf3;vf3;) 555(param) 558(param)
             563:    561(ptr)     AccessChain 550(outFragColor) 12
             564:   16(float)     CompositeExtract 560 0
                                  Store 563 564
             565:    561(ptr)     AccessChain 550(outFragColor) 45
             566:   16(float)     CompositeExtract 560 1
                                  Store 565 566
             567:    561(ptr)     AccessChain 550(outFragColor) 28
             568:   16(float)     CompositeExtract 560 2
                                  Store 567 568
             569:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 570 570 12 12
                                  Branch 547
             543:                 Label
             574:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             575:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 576 576 12 12
             573:   74(fvec3)     Load 475(fragPos)
             577:    561(ptr)     AccessChain 550(outFragColor) 12
             578:   16(float)     CompositeExtract 573 0
                                  Store 577 578
             579:    561(ptr)     AccessChain 550(outFragColor) 45
             580:   16(float)     CompositeExtract 573 1
                                  Store 579 580
             581:    561(ptr)     AccessChain 550(outFragColor) 28
             582:   16(float)     CompositeExtract 573 2
                                  Store 581 582
             583:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 584 584 12 12
                                  Branch 547
             544:                 Label
             588:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             589:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 590 590 12 12
             587:   74(fvec3)     Load 503(normal)
             591:    561(ptr)     AccessChain 550(outFragColor) 12
             592:   16(float)     CompositeExtract 587 0
                                  Store 591 592
             593:    561(ptr)     AccessChain 550(outFragColor) 45
             594:   16(float)     CompositeExtract 587 1
                                  Store 593 594
             595:    561(ptr)     AccessChain 550(outFragColor) 28
             596:   16(float)     CompositeExtract 587 2
                                  Store 595 596
             597:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 598 598 12 12
                                  Branch 547
             545:                 Label
             602:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             603:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 604 604 12 12
             601:   19(fvec4)     Load 516(albedo)
             605:   74(fvec3)     VectorShuffle 601 601 0 1 2
             606:    561(ptr)     AccessChain 550(outFragColor) 12
             607:   16(float)     CompositeExtract 605 0
                                  Store 606 607
             608:    561(ptr)     AccessChain 550(outFragColor) 45
             609:   16(float)     CompositeExtract 605 1
                                  Store 608 609
             610:    561(ptr)     AccessChain 550(outFragColor) 28
             611:   16(float)     CompositeExtract 605 2
                                  Store 610 611
             612:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 613 613 12 12
                                  Branch 547
             546:                 Label
             617:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             618:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 619 619 12 12
             616:   19(fvec4)     Load 516(albedo)
             620:   74(fvec3)     VectorShuffle 616 616 3 3 3
             621:    561(ptr)     AccessChain 550(outFragColor) 12
             622:   16(float)     CompositeExtract 620 0
                                  Store 621 622
             623:    561(ptr)     AccessChain 550(outFragColor) 45
             624:   16(float)     CompositeExtract 620 1
                                  Store 623 624
             625:    561(ptr)     AccessChain 550(outFragColor) 28
             626:   16(float)     CompositeExtract 620 2
                                  Store 625 626
             627:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 628 628 12 12
                                  Branch 547
             547:               Label
             633:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             634:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 635 635 12 12
             632:    561(ptr)   AccessChain 550(outFragColor) 13
                                Store 632 117
             636:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 637 637 12 12
                                Return
             536:             Label
             644:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             645:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 642 642 12 12
             643:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 641 640(fragcolor) 49
             646:   19(fvec4) Load 516(albedo)
             647:   74(fvec3) VectorShuffle 646 646 0 1 2
             649:   74(fvec3) VectorTimesScalar 647 648
                              Store 640(fragcolor) 649
             655:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 653 653 12 12
             654:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 651 650(N) 49
             656:   74(fvec3) Load 503(normal)
             657:   74(fvec3) ExtInst 3(GLSL.std.450) 69(Normalize) 656
                              Store 650(N) 657
             662:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 660 660 12 12
             661:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 659 658(i) 49
                              Store 658(i) 108
                              Branch 663
             663:             Label
             667:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             668:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 660 660 12 12
                              LoopMerge 665 666 None
                              Branch 669
             669:             Label
             671:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             672:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 660 660 12 12
             670:     98(int) Load 658(i)
             673:   141(bool) SLessThan 670 393
                              BranchConditional 673 664 665
             664:               Label
             679:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             680:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 677 677 12 12
             678:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 675 674(L) 49
             681:     98(int)   Load 658(i)
             684:    682(ptr)   AccessChain 431(ubo) 291 681 108
             685:   19(fvec4)   Load 684
             686:   74(fvec3)   VectorShuffle 685 685 0 1 2
             687:   74(fvec3)   Load 475(fragPos)
             688:   74(fvec3)   FSub 686 687
                                Store 674(L) 688
             693:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 691 691 12 12
             692:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 690 689(dist) 49
             694:   74(fvec3)   Load 674(L)
             695:   16(float)   ExtInst 3(GLSL.std.450) 66(Length) 694
                                Store 689(dist) 695
             697:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 698 698 12 12
             696:   74(fvec3)   Load 674(L)
             699:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 696
                                Store 674(L) 699
             705:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 703 703 12 12
             704:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 701 700(V) 49
             706:    682(ptr)   AccessChain 431(ubo) 108
             707:   19(fvec4)   Load 706
             708:   74(fvec3)   VectorShuffle 707 707 0 1 2
             709:   74(fvec3)   Load 475(fragPos)
             710:   74(fvec3)   FSub 708 709
                                Store 700(V) 710
             712:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 713 713 12 12
             711:   74(fvec3)   Load 700(V)
             714:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 711
                                Store 700(V) 714
             720:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 718 718 12 12
             719:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 716 715(lightCosInnerAngle) 49
                                Store 715(lightCosInnerAngle) 721
             727:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 725 725 12 12
             726:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 723 722(lightCosOuterAngle) 49
                                Store 722(lightCosOuterAngle) 728
             734:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 732 732 12 12
             733:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 730 729(lightRange) 49
                                Store 729(lightRange) 735
             741:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 739 739 12 12
             740:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 737 736(dir) 49
             742:     98(int)   Load 658(i)
             743:    682(ptr)   AccessChain 431(ubo) 291 742 108
             744:   19(fvec4)   Load 743
             745:   74(fvec3)   VectorShuffle 744 744 0 1 2
             746:     98(int)   Load 658(i)
             747:    682(ptr)   AccessChain 431(ubo) 291 746 291
             748:   19(fvec4)   Load 747
             749:   74(fvec3)   VectorShuffle 748 748 0 1 2
             750:   74(fvec3)   FSub 745 749
             751:   74(fvec3)   ExtInst 3(GLSL.std.450) 69(Normalize) 750
                                Store 736(dir) 751
             757:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 755 755 12 12
             756:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 753 752(cosDir) 49
             758:   74(fvec3)   Load 674(L)
             759:   74(fvec3)   Load 736(dir)
             760:   16(float)   Dot 758 759
                                Store 752(cosDir) 760
             766:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 764 764 12 12
             765:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 762 761(spotEffect) 49
             767:   16(float)   Load 722(lightCosOuterAngle)
             768:   16(float)   Load 715(lightCosInnerAngle)
             769:   16(float)   Load 752(cosDir)
             770:   16(float)   ExtInst 3(GLSL.std.450) 49(SmoothStep) 767 768 769
                                Store 761(spotEffect) 770
             776:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 774 774 12 12
             775:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 772 771(heightAttenuation) 49
             777:   16(float)   Load 729(lightRange)
             778:   16(float)   Load 689(dist)
             779:   16(float)   ExtInst 3(GLSL.std.450) 49(SmoothStep) 777 197 778
                                Store 771(heightAttenuation) 779
             785:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 783 783 12 12
             784:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 781 780(NdotL) 49
             786:   74(fvec3)   Load 650(N)
             787:   74(fvec3)   Load 674(L)
             788:   16(float)   Dot 786 787
             789:   16(float)   ExtInst 3(GLSL.std.450) 40(FMax) 197 788
                                Store 780(NdotL) 789
             795:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 793 793 12 12
             794:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 791 790(diff) 49
             796:   16(float)   Load 780(NdotL)
             797:   74(fvec3)   CompositeConstruct 796 796 796
                                Store 790(diff) 797
             803:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 801 801 12 12
             802:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 799 798(R) 49
             804:   74(fvec3)   Load 674(L)
             805:   74(fvec3)   FNegate 804
             806:   74(fvec3)   Load 650(N)
             807:   74(fvec3)   ExtInst 3(GLSL.std.450) 71(Reflect) 805 806
                                Store 798(R) 807
             813:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 811 811 12 12
             812:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 809 808(NdotR) 49
             814:   74(fvec3)   Load 798(R)
             815:   74(fvec3)   Load 700(V)
             816:   16(float)   Dot 814 815
             817:   16(float)   ExtInst 3(GLSL.std.450) 40(FMax) 197 816
                                Store 808(NdotR) 817
             823:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 821 821 12 12
             822:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 819 818(spec) 49
             824:   16(float)   Load 808(NdotR)
             826:   16(float)   ExtInst 3(GLSL.std.450) 26(Pow) 824 825
             827:     25(ptr)   AccessChain 516(albedo) 13
             828:   16(float)   Load 827
             829:   16(float)   FMul 826 828
             831:   16(float)   FMul 829 830
             832:   74(fvec3)   CompositeConstruct 831 831 831
                                Store 818(spec) 832
             834:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 835 835 12 12
             833:   74(fvec3)   Load 790(diff)
             836:   74(fvec3)   Load 818(spec)
             837:   74(fvec3)   FAdd 833 836
             838:   16(float)   Load 761(spotEffect)
             839:   74(fvec3)   VectorTimesScalar 837 838
             840:   16(float)   Load 771(heightAttenuation)
             841:   74(fvec3)   VectorTimesScalar 839 840
             842:     98(int)   Load 658(i)
             844:    682(ptr)   AccessChain 431(ubo) 291 842 843
             845:   19(fvec4)   Load 844
             846:   74(fvec3)   VectorShuffle 845 845 0 1 2
             847:   74(fvec3)   FMul 841 846
             848:   19(fvec4)   Load 516(albedo)
             849:   74(fvec3)   VectorShuffle 848 848 0 1 2
             850:   74(fvec3)   FMul 847 849
             851:   74(fvec3)   Load 640(fragcolor)
             852:   74(fvec3)   FAdd 851 850
                                Store 640(fragcolor) 852
                                Branch 666
             666:               Label
             854:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             855:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 660 660 12 12
             853:     98(int)   Load 658(i)
             856:     98(int)   IAdd 853 291
                                Store 658(i) 856
                                Branch 663
             665:             Label
             858:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             859:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 860 860 12 12
             857:    528(ptr) AccessChain 431(ubo) 843
             861:     98(int) Load 857
             862:   141(bool) SGreaterThan 861 108
                              SelectionMerge 864 None
                              BranchConditional 862 863 864
             863:               Label
             867:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             868:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 869 869 12 12
             866:   74(fvec3)   Load 640(fragcolor)
                                Store 865(param) 866
             871:   74(fvec3)   Load 475(fragPos)
                                Store 870(param) 871
             872:   74(fvec3)   FunctionCall 82(shadow(vf3;vf3;) 865(param) 870(param)
                                Store 640(fragcolor) 872
                                Branch 864
             864:             Label
             874:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 96
             875:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 876 876 12 12
             873:   74(fvec3) Load 640(fragcolor)
             877:   16(float) CompositeExtract 873 0
             878:   16(float) CompositeExtract 873 1
             879:   16(float) CompositeExtract 873 2
             880:   19(fvec4) CompositeConstruct 877 878 879 117
                              Store 550(outFragColor) 880
                              Return
                              FunctionEnd
37(textureProj(vf4;f1;vf2;):   16(float) Function None 32
           34(P):     22(ptr) FunctionParameter
       35(layer):     25(ptr) FunctionParameter
      36(offset):     30(ptr) FunctionParameter
              38:             Label
     112(shadow):     25(ptr) Variable Function
118(shadowCoord):     22(ptr) Variable Function
       161(dist):     25(ptr) Variable Function
              50:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
              51:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 43 43 12 12
              48:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 46 34(P) 49
              54:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 52 35(layer) 49
              57:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 55 36(offset) 49
             111:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 40 37(textureProj(vf4;f1;vf2;)
             116:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 114 114 12 12
             115:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 113 112(shadow) 49
                              Store 112(shadow) 117
             123:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 121 121 12 12
             122:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 119 118(shadowCoord) 49
             124:   19(fvec4) Load 34(P)
             125:     25(ptr) AccessChain 34(P) 13
             126:   16(float) Load 125
             127:   19(fvec4) CompositeConstruct 126 126 126 126
             128:   19(fvec4) FDiv 124 127
                              Store 118(shadowCoord) 128
             130:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 131 131 12 12
             129:   19(fvec4) Load 118(shadowCoord)
             132:   27(fvec2) VectorShuffle 129 129 0 1
             134:   27(fvec2) VectorTimesScalar 132 133
             135:   27(fvec2) CompositeConstruct 133 133
             136:   27(fvec2) FAdd 134 135
             137:     25(ptr) AccessChain 118(shadowCoord) 12
             138:   16(float) CompositeExtract 136 0
                              Store 137 138
             139:     25(ptr) AccessChain 118(shadowCoord) 45
             140:   16(float) CompositeExtract 136 1
                              Store 139 140
             145:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 146 146 12 12
             144:     25(ptr) AccessChain 118(shadowCoord) 28
             147:   16(float) Load 144
             149:   141(bool) FOrdGreaterThan 147 148
                              SelectionMerge 151 None
                              BranchConditional 149 150 151
             150:               Label
             153:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             154:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 146 146 12 12
             152:     25(ptr)   AccessChain 118(shadowCoord) 28
             155:   16(float)   Load 152
             156:   141(bool)   FOrdLessThan 155 117
                                Branch 151
             151:             Label
             158:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             157:   141(bool) Phi 149 38 156 150
                              SelectionMerge 160 None
                              BranchConditional 157 159 160
             159:               Label
             166:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             167:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 164 164 12 12
             165:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 162 161(dist) 49
             182:         173   Load 179(samplerShadowMap)
             183:   19(fvec4)   Load 118(shadowCoord)
             184:   27(fvec2)   VectorShuffle 183 183 0 1
             185:   27(fvec2)   Load 36(offset)
             186:   27(fvec2)   FAdd 184 185
             187:   16(float)   Load 35(layer)
             188:   16(float)   CompositeExtract 186 0
             189:   16(float)   CompositeExtract 186 1
             190:   74(fvec3)   CompositeConstruct 188 189 187
             191:   19(fvec4)   ImageSampleImplicitLod 182 190
             192:   16(float)   CompositeExtract 191 0
                                Store 161(dist) 192
             194:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 195 195 12 12
             193:     25(ptr)   AccessChain 118(shadowCoord) 13
             196:   16(float)   Load 193
             198:   141(bool)   FOrdGreaterThan 196 197
                                SelectionMerge 200 None
                                BranchConditional 198 199 200
             199:                 Label
             202:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             203:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 195 195 12 12
             201:   16(float)     Load 161(dist)
             204:     25(ptr)     AccessChain 118(shadowCoord) 28
             205:   16(float)     Load 204
             206:   141(bool)     FOrdLessThan 201 205
                                  Branch 200
             200:               Label
             208:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             207:   141(bool)   Phi 198 159 206 199
                                SelectionMerge 210 None
                                BranchConditional 207 209 210
             209:                 Label
             212:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             213:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 214 214 12 12
                                  Store 112(shadow) 211
                                  Branch 210
             210:               Label
             215:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
                                Branch 160
             160:             Label
             217:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 40
             218:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 219 219 12 12
             216:   16(float) Load 112(shadow)
                              ReturnValue 216
                              FunctionEnd
62(filterPCF(vf4;f1;):   16(float) Function None 58
          60(sc):     22(ptr) FunctionParameter
       61(layer):     25(ptr) FunctionParameter
              63:             Label
     228(texDim):    226(ptr) Variable Function
      240(scale):     25(ptr) Variable Function
         247(dx):     25(ptr) Variable Function
         261(dy):     25(ptr) Variable Function
273(shadowFactor):     25(ptr) Variable Function
      279(count):    255(ptr) Variable Function
      285(range):    255(ptr) Variable Function
          292(x):    255(ptr) Variable Function
          312(y):    255(ptr) Variable Function
      345(param):     22(ptr) Variable Function
      347(param):     25(ptr) Variable Function
      349(param):     30(ptr) Variable Function
              70:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
              71:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 66 66 12 12
              69:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 67 60(sc) 49
              73:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 72 61(layer) 49
             223:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 65 62(filterPCF(vf4;f1;)
             233:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 231 231 12 12
             232:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 229 228(texDim) 49
             234:         173 Load 179(samplerShadowMap)
             235:         168 Image 234
             238:  236(ivec3) ImageQuerySizeLod 235 108
             239:  224(ivec2) VectorShuffle 238 238 0 1
                              Store 228(texDim) 239
             245:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 243 243 12 12
             244:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 241 240(scale) 49
                              Store 240(scale) 246
             252:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 250 250 12 12
             251:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 248 247(dx) 49
             253:   16(float) Load 240(scale)
             254:   16(float) FMul 253 117
             257:    255(ptr) AccessChain 228(texDim) 12
             258:     98(int) Load 257
             259:   16(float) ConvertSToF 258
             260:   16(float) FDiv 254 259
                              Store 247(dx) 260
             266:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 264 264 12 12
             265:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 262 261(dy) 49
             267:   16(float) Load 240(scale)
             268:   16(float) FMul 267 117
             269:    255(ptr) AccessChain 228(texDim) 45
             270:     98(int) Load 269
             271:   16(float) ConvertSToF 270
             272:   16(float) FDiv 268 271
                              Store 261(dy) 272
             278:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 276 276 12 12
             277:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 274 273(shadowFactor) 49
                              Store 273(shadowFactor) 197
             284:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 282 282 12 12
             283:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 280 279(count) 49
                              Store 279(count) 108
             290:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 288 288 12 12
             289:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 286 285(range) 49
                              Store 285(range) 291
             297:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 295 295 12 12
             296:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 293 292(x) 49
             298:     98(int) Load 285(range)
             299:     98(int) SNegate 298
                              Store 292(x) 299
                              Branch 300
             300:             Label
             304:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             305:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 295 295 12 12
                              LoopMerge 302 303 None
                              Branch 306
             306:             Label
             308:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             309:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 295 295 12 12
             307:     98(int) Load 292(x)
             310:     98(int) Load 285(range)
             311:   141(bool) SLessThanEqual 307 310
                              BranchConditional 311 301 302
             301:               Label
             317:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             318:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 315 315 12 12
             316:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 313 312(y) 49
             319:     98(int)   Load 285(range)
             320:     98(int)   SNegate 319
                                Store 312(y) 320
                                Branch 321
             321:               Label
             325:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             326:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 315 315 12 12
                                LoopMerge 323 324 None
                                Branch 327
             327:               Label
             329:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             330:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 315 315 12 12
             328:     98(int)   Load 312(y)
             331:     98(int)   Load 285(range)
             332:   141(bool)   SLessThanEqual 328 331
                                BranchConditional 332 322 323
             322:                 Label
             334:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             335:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 336 336 12 12
             333:   16(float)     Load 247(dx)
             337:     98(int)     Load 292(x)
             338:   16(float)     ConvertSToF 337
             339:   16(float)     FMul 333 338
             340:   16(float)     Load 261(dy)
             341:     98(int)     Load 312(y)
             342:   16(float)     ConvertSToF 341
             343:   16(float)     FMul 340 342
             344:   27(fvec2)     CompositeConstruct 339 343
             346:   19(fvec4)     Load 60(sc)
                                  Store 345(param) 346
             348:   16(float)     Load 61(layer)
                                  Store 347(param) 348
                                  Store 349(param) 344
             350:   16(float)     FunctionCall 37(textureProj(vf4;f1;vf2;) 345(param) 347(param) 349(param)
             351:   16(float)     Load 273(shadowFactor)
             352:   16(float)     FAdd 351 350
                                  Store 273(shadowFactor) 352
             354:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 355 355 12 12
             353:     98(int)     Load 279(count)
             356:     98(int)     IAdd 353 291
                                  Store 279(count) 356
                                  Branch 324
             324:                 Label
             358:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             359:           4     ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 315 315 12 12
             357:     98(int)     Load 312(y)
             360:     98(int)     IAdd 357 291
                                  Store 312(y) 360
                                  Branch 321
             323:               Label
             361:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
                                Branch 303
             303:               Label
             363:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             364:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 295 295 12 12
             362:     98(int)   Load 292(x)
             365:     98(int)   IAdd 362 291
                                Store 292(x) 365
                                Branch 300
             302:             Label
             367:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 65
             368:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 369 369 12 12
             366:   16(float) Load 273(shadowFactor)
             370:     98(int) Load 279(count)
             371:   16(float) ConvertSToF 370
             372:   16(float) FDiv 366 371
                              ReturnValue 372
                              FunctionEnd
82(shadow(vf3;vf3;):   74(fvec3) Function None 78
   80(fragcolor):     76(ptr) FunctionParameter
     81(fragpos):     76(ptr) FunctionParameter
              83:             Label
          377(i):    255(ptr) Variable Function
 395(shadowClip):     22(ptr) Variable Function
445(shadowFactor):     25(ptr) Variable Function
      452(param):     22(ptr) Variable Function
      454(param):     25(ptr) Variable Function
              90:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
              91:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 86 86 12 12
              89:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 87 80(fragcolor) 49
              94:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 92 81(fragpos) 49
             376:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 101(DebugFunctionDefinition) 85 82(shadow(vf3;vf3;)
             382:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 380 380 12 12
             381:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 378 377(i) 49
                              Store 377(i) 108
                              Branch 383
             383:             Label
             387:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             388:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 380 380 12 12
                              LoopMerge 385 386 None
                              Branch 389
             389:             Label
             391:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             392:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 380 380 12 12
             390:     98(int) Load 377(i)
             394:   141(bool) SLessThan 390 393
                              BranchConditional 394 384 385
             384:               Label
             400:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             401:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 398 398 12 12
             399:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 396 395(shadowClip) 49
             434:     98(int)   Load 377(i)
             437:    435(ptr)   AccessChain 431(ubo) 291 434 393
             438:         402   Load 437
             439:   74(fvec3)   Load 81(fragpos)
             440:   16(float)   CompositeExtract 439 0
             441:   16(float)   CompositeExtract 439 1
             442:   16(float)   CompositeExtract 439 2
             443:   19(fvec4)   CompositeConstruct 440 441 442 117
             444:   19(fvec4)   MatrixTimesVector 438 443
                                Store 395(shadowClip) 444
             449:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 447 447 12 12
             448:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 28(DebugDeclare) 446 445(shadowFactor) 49
             450:     98(int)   Load 377(i)
             451:   16(float)   ConvertSToF 450
             453:   19(fvec4)   Load 395(shadowClip)
                                Store 452(param) 453
                                Store 454(param) 451
             455:   16(float)   FunctionCall 62(filterPCF(vf4;f1;) 452(param) 454(param)
                                Store 445(shadowFactor) 455
             457:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 458 458 12 12
             456:   16(float)   Load 445(shadowFactor)
             459:   74(fvec3)   Load 80(fragcolor)
             460:   74(fvec3)   VectorTimesScalar 459 456
                                Store 80(fragcolor) 460
                                Branch 386
             386:               Label
             462:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             463:           4   ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 380 380 12 12
             461:     98(int)   Load 377(i)
             464:     98(int)   IAdd 461 291
                                Store 377(i) 464
                                Branch 383
             385:             Label
             466:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 23(DebugScope) 85
             467:           4 ExtInst 1(NonSemantic.Shader.DebugInfo.100) 103(DebugLine) 41 468 468 12 12
             465:   74(fvec3) Load 80(fragcolor)
                              ReturnValue 465
                              FunctionEnd
